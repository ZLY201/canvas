(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[8],{145:function(e,n,t){e.exports={markdownContainer:"index_markdownContainer__3m-t9",markdownHeader:"index_markdownHeader__TVikt",funcList:"index_funcList__29p_B",markdown:"index_markdown__1cWsz",inputContainer:"index_inputContainer__2OF2o",textarea:"index_textarea__BP63l",previewContainer:"index_previewContainer__375jt",preview:"index_preview__Sf-kn",markdownResult:"index_markdownResult__1Sk_M",code:"index_code__24qFz",clonePreview:"index_clonePreview__19MC1"}},76:function(e,n,t){"use strict";function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=null;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];t||(t=setTimeout((function(){e(r),t=null}),n))}}function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,t=null;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];t&&clearTimeout(t),t=setTimeout((function(){e(r)}),n)}}t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}))},777:function(e,n,t){"use strict";t.r(n);var a=t(259),r=t(11),i=t(12),o=t(13),s=t(14),c=t(99),l=t(127),u=t(172),d=t.n(u),h=t(1),p=t.n(h),m=t(261),f=t.n(m),v=t(775),w=t(355),g=t.n(w),x=t(386),b=t.n(x),k=t(396),j=t.n(k),_=(t(427),t(428)),y=t.n(_),O=t(433),C=t(217),S=t.n(C),T=function(e){Object(o.a)(t,e);var n=Object(s.a)(t);function t(){return Object(r.a)(this,t),n.apply(this,arguments)}return Object(i.a)(t,[{key:"componentDidCatch",value:function(e){console.warn(e),alert("\u8f6c\u4e49\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5 markdown \u8bed\u6cd5\u9519\u8bef\uff0c\u4f8b\u5982 html \u6807\u7b7e\u9519\u8bef\uff01")}},{key:"render",value:function(){return this.props.children||""}}]),t}(p.a.Component),H=T,P=t(145),D=t.n(P),M=t(76),N='# h1 Heading\n## h2 Heading\n### h3 Heading\n#### h4 Heading\n##### h5 Heading\n###### h6 Heading\n\n\n## Horizontal Rules\n\n___\n\n---\n\n***\n\n\n## Emphasis\n\n**This is bold text**\n\n__This is bold text__\n\n*This is italic text*\n\n_This is italic text_\n\n~~Strikethrough~~\n\n\n## Blockquotes\n\n> Blockquotes test\n - nest\n> Blockquotes can also be nested...\n>> ...by using additional greater-than signs right next to each other...\n> > > ...or with spaces between arrows.\n\n\n## Lists\n\nUnordered\n\n+ Create a list by starting a line with `+`, `-`, or `*`\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n\n1. You can use sequential numbers...\n1. ...or keep all the numbers as `1.`\n\nStart numbering with offset:\n\n57. foo\n1. bar\n\n\n## Code\n\nInline `code`\n\nBlock code "fences"\n\n```\nSample text here...\n```\n\nSyntax highlighting\n\n``` js\nvar foo = function (bar) {\n  return bar++;\n};\n\nconsole.log(foo(5));\n```\n\n## Tables\n\n| Option | Description |\n| ------ | ----------- |\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\nRight aligned columns\n\n| Option | Description |\n| ------:| -----------:|\n| data   | path to data files to supply the data that will be passed into templates. |\n| engine | engine to be used for processing templates. Handlebars is the default. |\n| ext    | extension to be used for dest files. |\n\n\n## Links\n\n[link text](http://dev.nodeca.com)\n\n[link with title](http://nodeca.github.io/pica/demo/ "title text!")\n\nAutoconverted link https://github.com/nodeca/pica (enable linkify to see)\n\n\n## Images\n\n![Minion](https://octodex.github.com/images/minion.png)\n\n![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg "The Stormtroopocat")\n\nLike links, Images also have a footnote style syntax\n\n![Alt text][id]\n\nWith a reference later in the document defining the URL location:\n\n[id]: https://octodex.github.com/images/dojocat.jpg  "The Dojocat"\n\n\n## Plugins\n\nThe killer feature of `markdown-it` is very effective support of\n[syntax plugins](https://www.npmjs.org/browse/keyword/markdown-it-plugin).\n\n\n### [<ins>](https://github.com/markdown-it/markdown-it-ins)\n\n++Inserted text++\n\n\n### [<mark>](https://github.com/markdown-it/markdown-it-mark)\n\n==Marked text==\n\n\n### [Definition lists](https://github.com/markdown-it/markdown-it-deflist)\n\nTerm 1\n\n:   Definition 1\nwith lazy continuation.\n\nTerm 2 with *inline markup*\n\n:   Definition 2\n\n        { some code, part of Definition 2 }\n\nThird paragraph of definition 2.\n\n_Compact style:_\n\nTerm 1\n  ~ Definition 1\n\nTerm 2\n  ~ Definition 2a\n  ~ Definition 2b\n\n\n### [Custom containers](https://github.com/markdown-it/markdown-it-container)\n\n::: warning\n*here be dragons*\n:::\n',L=t(0),R=["inline","className","children"],I={code:function(e){var n=e.inline,t=void 0===n?void 0:n,a=e.className,r=void 0===a?void 0:a,i=e.children,o=void 0===i?void 0:i,s=Object(l.a)(e,R),u=/language-(\w+)/.exec(r||"");return!t&&u?Object(L.jsx)(v.a,Object(c.a)({language:u[1],PreTag:"div",children:String(o).replace(/\n$/,"")},s)):Object(L.jsx)("code",Object(c.a)(Object(c.a)({className:r},s),{},{children:o}))}},A=function(e){Object(o.a)(t,e);var n=Object(s.a)(t);function t(e){var i;return Object(r.a)(this,t),(i=n.call(this,e)).textarea=void 0,i.preview=void 0,i.clonePreview=void 0,i.save=function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),window.localStorage.setItem("markdownContent",i.state.content))},i.changeContent=function(e){i.setState({content:e.target.value})},i.textareaScroll=function(){var e,n;if(null!==(e=i.preview)&&void 0!==e&&e.current&&null!==(n=i.textarea)&&void 0!==n&&n.current){var t=(i.textarea.current.scrollHeight-i.textarea.current.offsetHeight)/(i.preview.current.scrollHeight-i.preview.current.offsetHeight);i.preview.current.scrollTo({top:i.textarea.current.scrollTop/t,behavior:"smooth"})}},i.getMarkdownGuide=function(){var e,n=N;null!==(e=i.textarea)&&void 0!==e&&e.current&&(i.textarea.current.value=n,i.textareaScroll()),i.setState({content:n})},i.buttonClick=function(){var e=Object(a.a)(d.a.mark((function e(n,t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.target)){e.next=11;break}return a.disabled=!0,r=a.innerText,a.innerText="running...",e.next=7,t();case 7:a.disabled=!1,a.innerText=r,e.next=12;break;case 11:console.error("button not find");case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),i.saveAsHTML=function(){var e=Object(a.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.buttonClick(n,Object(a.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(n=i.preview)&&void 0!==n&&n.current?(localStorage.setItem("markdownHTMLValue",i.preview.current.innerHTML),window.open(window.location.href.split("#")[0]+"#/saveAsHTML","_blank")):alert("Sorry, your browser not support this function!");case 1:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i.getStyle=function(e,n){var t;return(null===(t=document.defaultView)||void 0===t?void 0:t.getComputedStyle(e,null)[n])||"0px"},i.judgePreviewElement=function(e,n){for(var t=e.children,a=t.length,r=0,o=0,s=0;s<a;++s){var c=t[s],l=parseFloat(i.getStyle(c,"margin-top").split("px")[0]),u=c.offsetHeight+Math.max(l,o);if((r+=u)>n){var d=Math.max(l,10);c.style.marginTop="".concat(u-(r-n)+d,"px"),r=c.offsetHeight+d}o=parseFloat(i.getStyle(c,"margin-bottom").split("px")[0])}},i.SaveAsPDF=function(){var e=Object(a.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.buttonClick(n,Object(a.a)(d.a.mark((function e(){var n,t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=i.preview.current)){e.next=21;break}if(t=595.28,a=841.89,(r=n.cloneNode(!0)).style.width="".concat(t-20,"px"),r.style.height="auto",r.style.padding="0 10px",!i.clonePreview.current){e.next=12;break}i.clonePreview.current.appendChild(r),e.next=14;break;case 12:return console.error("clonePreview not find"),e.abrupt("return");case 14:return e.next=16,new Promise((function(e){setTimeout((function(){e()}),500)}));case 16:return i.judgePreviewElement(r.children[0],a),e.next=19,S()(r,{useCORS:!0,scale:window.devicePixelRatio}).then((function(e){for(var n=e.width,i=e.height,o=n*a/t,s=t,c=t*i/n,l=e.toDataURL("image/png",1),u=new O.a(void 0,"pt","a4"),d=i,h=0;d>0;)u.addImage(l,"png",0,h,s,c),h-=a,(d-=o)>0&&u.addPage();u.save("markdown.pdf"),r.remove()}));case 19:e.next=22;break;case 21:console.error("preview not find");case 22:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i.state={content:""},i.textarea=p.a.createRef(),i.preview=p.a.createRef(),i.clonePreview=p.a.createRef(),i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,n=window.localStorage.getItem("markdownContent"),t=n||""===n?n:N;null!==(e=this.textarea)&&void 0!==e&&e.current&&(this.textarea.current.value=t,this.textareaScroll()),this.setState({content:t})}},{key:"componentWillUnmount",value:function(){window.localStorage.setItem("markdownContent",this.state.content)}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:D.a.markdownContainer,onKeyDown:this.save,children:[Object(L.jsx)("div",{className:D.a.markdownHeader,children:"Start your write here!"}),Object(L.jsxs)("div",{className:D.a.funcList,children:[Object(L.jsx)("button",{onClick:this.getMarkdownGuide,children:"markdown guide"}),Object(L.jsx)("button",{onClick:this.saveAsHTML,children:"save as html"}),Object(L.jsx)("button",{onClick:this.SaveAsPDF,children:"save as pdf"})]}),Object(L.jsxs)("div",{className:D.a.markdown,children:[Object(L.jsx)("div",{className:D.a.inputContainer,children:Object(L.jsx)("textarea",{wrap:D.a.hard,className:D.a.textarea,onInput:this.changeContent,ref:this.textarea,onScroll:Object(M.a)(this.textareaScroll,100)})}),Object(L.jsx)("div",{className:D.a.previewContainer,children:Object(L.jsx)("div",{className:D.a.preview,ref:this.preview,children:Object(L.jsx)(H,{children:Object(L.jsx)(f.a,{className:D.a.markdownResult,components:I,children:this.state.content,remarkPlugins:[g.a,b.a],rehypePlugins:[j.a,y.a]})})})}),Object(L.jsx)("div",{className:"".concat(D.a.previewContainer," ").concat(D.a.clonePreview),ref:this.clonePreview})]})]})}}]),t}(h.Component);n.default=A}}]);